# Laporan Proyek Machine Learning - Antika Orinda 
****
## Project Overview 
*****
## __Film__
![This is an image](https://assets.promediateknologi.com/crop/0x0:0x0/x/photo/2021/10/10/2942550927.jpg)

Gambar 1 . Poster Film 

__Film__, juga dikenal sebagai movie,sinema,teater bahkan  foto bergerak, dengan pengertian sebagai  Serangkaian gambar diam yang, ketika ditampilkan di layar, menciptakan ilusi gambar bergerak karena efek fenomena phi. Ilusi optik ini memaksa pemirsa untuk melihat gerakan terus menerus antara objek yang berbeda secara berurutan. Proses pembuatan film adalah kombinasi antara seni dan industri. Anda dapat membuat film dengan menangkap adegan nyata dengan kamera film. Filmkan gambar atau model "miniatur" menggunakan teknik animasi tradisional, CGI, animasi komputer. Atau, karena kombinasi dari beberapa teknik yang ada dan efek visual lainnya.

Genre adalah istilah yang digunakan untuk membedakan berbagai jenis film. Film dapat berupa cerita fiksi (fiksi), kisah nyata, atau campuran keduanya. Ratusan film diproduksi setiap tahun, tetapi sedikit yang hanya menggunakan satu genre, dan sebagian besar menggabungkan dua genre atau lebih.
Macam - macam genre yang tersedia :
* Aksi -Film ini menampilkan efek dan adegan yang menakjubkan seperti kejar-kejaran mobil dan baku tembak dengan stuntman. Perang dan kejahatan adalah tema umum, karena genre ini biasanya cerita tentang kebaikan dan kejahatan. Film aksi cenderung membutuhkan sedikit usaha untuk ditonton karena plotnya yang biasanya sederhana. Misalnya, film "Die Hard," di mana sekelompok teroris mengambil alih gedung pencakar langit dan menuntut tebusan untuk para sandera. Akhirnya, satu pahlawan menyelamatkan semua orang. Film aksi biasanya tidak membuat orang menangis, tetapi ketika genre ini bercampur dengan drama, ia akan muncul dengan emosi.
* Petualangan - Biasanya menceritakan protagonis yang melakukan perjalanan untuk menyelamatkan dunia atau orang-orang terdekatnya.
* Animasi - Sebuah film yang menggunakan karakter kartun sebagai karakter. Dulu saya menggambar dengan tangan, tapi sekarang saya lebih sering menggunakan komputer..
* Persahabatan - film tentang dua karakter, salah satunya harus menyelamatkan yang lain, dan keduanya harus mengatasi masalah yang menghadang. Film persahabatan bisa bercampur dengan komedi, tapi juga bisa sedikit menyentuh karena persahabatan di antara keduanya.
* Komedi - Film lucu tentang orang bodoh yang melakukan hal-hal aneh atau terlibat dalam hal bodoh dan bodoh yang membuat penonton tertawa.
* Dokumenter - Sebuah film yang didasarkan pada kehidupan orang yang nyata dan peristiwa nyata. Genre ini sebagian besar serius dan dapat mengandung emosi yang kuat. Contohnya film Last Note Di Nusakambangan.
* Drama - Film serius dan santai tentang orang yang sedang jatuh cinta atau harus membuat keputusan besar dalam hidup mereka. Genre ini berbicara tentang hubungan antara orang-orang. Genre biasanya mengikuti alur cerita dasar di mana satu atau dua karakter harus mengatasi rintangan untuk mendapatkan apa yang mereka inginkan. Berdasarkan cerita fiksi lucu. Contoh film drama umumnya adalah kisah cinta.
* Tragedi - Tragedi itu seperti drama, kisah orang-orang yang berjuang. Misalnya, pasangan bercerai dan perlu membuktikan di pengadilan bahwa mereka dapat mengasuh anak-anak mereka. Perasaan adalah bagian besar dari film ini yang bisa membuat Anda bingung dan bahkan menangis.
* Film Noir - Film drama detektif di era 1940-an yang didasarkan pada  kriminal dan kekerasan.
* Horor - Sebuah film yang menggunakan rasa takut untuk menarik penonton. Musik, pencahayaan, dan latar belakang semuanya ditambahkan untuk meningkatkan sensasi dan pengalaman.
* Romantis - Komedi romantis biasanya tentang kisah cinta tentang dua orang dari dunia yang berbeda yang harus mengatasi rintangan untuk tetap bersama.
* Fiksi Sains (Sci-Fi) - Ditetapkan di masa depan dan alam semesta. Biasanya menceritakan bagaimana dunia imajiner membayangkan dengan  kebanyakan alien (monster) atau hal-hal yang berbau seperti robot.
* Thriller - Biasanya tentang misteri, kasus aneh, atau kejahatan yang perlu dipecahkan. Itu membuat penonton terus menebak-nebak sampai akhir film, biasanya dengan akhir yang berbelit-belit.
* Western - Ini berbicara tentang koboi di Barat (Amerika abad ke-19). Genre ini dapat mempengaruhi penduduk asli Amerika.
Suspense - Sebuah film yang membuat Anda duduk di kursi. Genre biasanya memiliki banyak tikungan yang dapat membingungkan pemirsa.
*Fantasi - Film fantasi ini berisi keajaiban dan hal yang mustahil bagi orang sungguhan.
* Gore - Film yang sering menampilkan konten berdarah, aksi kekerasan, dan sadis.
* Perang - Sebuah genre film yang berhubungan dengan perang, biasanya berpusat di sekitar angkatan laut, angkatan udara, atau tentara, tetapi kadang-kadang dengan penekanan pada tawanan perang, operasi rahasia, pendidikan dan pelatihan militer, atau mata pelajaran terkait lainnya.

Kegiatan menonton film termasuk kegiatan yang penting bagi manusia, karena dengan menonton film, kita bisa sejenak meredakan stress karena saat menonton otak kita akan melepaskan hormon stres dan menggantinya dengan hormon endorphin. Hormon ini memiliki fungsi untuk membuat keadaan emosi kita menjadi lebih stabil dan bahagia. tidak hanya itu menonton film juga dapat meningkatkan mood dan menumbuhkan motivasi karena dengan kita Meluangkan waktu sejenak untuk keluar dari aktivitas harian dapat dijadikan salah satu mood booster yang membantu memperbaiki suasana hati Anda. 

Suasana hati yang lebih baik bisa menurunkan risiko stres dan depresi, serta memungkinkan Anda untuk lebih baik dalam menjalani hari,dan dapat  memotivasi untuk  lebih produktif saat kembali beraktivitas. Selain itu, motivasi juga bisa terbangun saat Anda bisa mengambil pelajaran atau hikmah dari jalan cerita film yang Anda tonton. 

Berdasarkan permasalahan tersebut, pada proyek ini akan dibuat suatu model sistem rekomendasi menggunakan teknik Content-based filtering yaitu teknik yang digunakan untuk merekomendasikan item yang mirip dengan item yang disukai pengguna di masa  dan teknik collaborative filtering yaitu teknik yang akan merekomendasikan item yang mirip dengan item yang disukai pengguna di masa lalu, dan pada proyek ini akan merekomendasikan berdasarkan selera pengguna dan juga film yang memiliki rating yang tinggi. 

# Business Understanding
***
### Problem Statement 

Berdasarkan penjelasan pada project overview, berikut ini merupakan batasan masalah yang perlu diselesaikan di proyek ini:
* Berdasarkan data mengenai pengguna, bagaimana membuat sistem rekomendasi yang dipersonalisasi dengan _teknik content-based filtering_ untuk merekomendasikan  berdasarkan judul dan genre ?
* dengan data rating film yang tersedia, bagaimana membuat sistem rekomendasi film berdasarkan selera  pengguna  dan  memiliki rating tinggi dari pengguna lain ? 

### Goals 

Tujuan dibuatnya proyek ini adalah sebagai berikut :
* Menghasilkan sejumlah rekomendasi movie yang dipersonalisasi untuk pengguna dengan teknik content-based filtering yang dapat merekomendasikan film berdasarkan judul dan genre 
* Memberikan rekomendasi film yang sesuai dengan selera pengguna  dan  memiliki rating tinggi dari pengguna lain

### Solution Approach

Solusi yang dapat dilakukan untuk memenuhi tujuan dari proyek ini diantaranya :

 __Content Based filtering__
 
Adalah rekomendasi berbasis konten yang merekomendasikan item yang memiliki kemiripan dengan item yang disukai/diinput pengguna sebelumnya.
 
Konsep Content-based filtering mempelajari profil minat pengguna baru berdasarkan data dari objek yang telah dinilai pengguna. Algoritma ini bekerja dengan menyarankan item serupa yang pernah disukai di masa lalu atau sedang dilihat di masa kini kepada pengguna. Semakin banyak informasi yang diberikan pengguna, semakin baik akurasi sistem rekomendasi.

Untuk membuat profil pengguna, dua informasi ini penting bagi sistem dengan pendekatan content-based filtering: 
* Model preferensi pengguna.
* Riwayat interaksi pengguna dengan sistem rekomendasi. 

Kelebihan dan Kekurangan dari Content-based Filtering

* Kelebihan 

** __User Independence__, tidak bergantung kepada user lain dalam memberikan rekomendasi yang ada.
** __New Item__, mampu merekomendasikan item yang belum dinilai oleh setiap pengguna.
* Kekurangan 
__New User__ , Sistem tidak dapat memberikan rekomendasi yang dapat diandalkan pada pengguna baru, karena membutuhkan penelusuran terlebih dahulu pada preferensi pengguna.

 __Collaborative filtering__
 
 Collaborative filtering merupakan metode yang digunakan untuk merekomendasikan item berdasarkan penilaian pengguna sebelumnya, dimana atribut yang digunakan bukan konten tetapi user behaviour. Contohnya yaitu merekomendasikan suatu item berdasarkan dari riwayat rating dari user tersebut maupun user lain
 
 * Kelebihan 
 
rekomendasi tetap akan bekerja dalam keadaan dimana konten sulit di analisis sekalipun,
* Kekurangan 

membutuhkan parameter rating, sehingga jika ada item baru sistem tidak akan merekomendasikan item tersebut.

# Data Understanding
***
![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/cover%20dataset.PNG?raw=true)
Gambar 2. Cover Dataset 

Dataset ini dapat diakses menggunakan [Kaggle](https://www.kaggle.com/datasets/dineshaitham/movies-recommendation-dataset)

informasi dari dataset dapat dirangkum sebagai berikut :

tabel 1 : Ringkasan informasi dataset 
| Jenis           | Keterangan                                                                                                  |
|-----------------|-------------------------------------------------------------------------------------------------------------|
| Sumber          | [Movies Recommendation Dataset](https://www.kaggle.com/datasets/dineshaitham/movies-recommendation-dataset) |
| Lisensi         | Unknown                                                                                                     |
| Kategori        | Arts and Entertainment, Online Communities, Literature                                                      |
| Jenis & Ukuran  | CSV (2.98 MB)                                                                                               |

Pada berkas yang diunduh  terdapat 2 berkas csv yakni  movies.csv  dan ratings.csv, untuk penjelasannya dapat dilihat di keterangan dibawah ini : 

__movies.csv__

Pada berkas movies,csv terdapat 9742 baris dengan 3 kolom, kolom-kolom tersebut terdiri 2 kolom bertipe objek dan 1 kolom bertipe numerik (int 64), untuk penjelasan mengenai variabel-variable pada dataset insurance ini dapat dilihat sebagai berikut:

* movieId : id setiap movie yang tersedia 
* title : judul film yang tersedia di dalam dataset 
* genre : jenis kategori film yang tersedia di dalam dataset 

__ratings.csv__

Pada berkas ratings.csv terdapat 100836 baris dengan 4 kolom, kolom-kolom tersebut terdiri dari 3 kolom bertipe numerik yaitu int64 dan 1 kolom bertipe numerik yaitu float64, untuk penjelasan mengenai variabel-variable pada dataset insurance ini dapat dilihat sebagai berikut:

* userId : id user yang tersimpan didalam dataset 
* movieId : id setiap movie yang tersedia
* rating : rating setiap film 
* timestamp : template waktu film yang tersimpan 
***
## __Pra-pemrosesan Data__. 

Pada pra-pemrosesan data dapat dilakukan beberapa tahapan, antara lain :
* Memasukkan dataset kedalam ke dalam dataframe menggunakan pandas
* Menampilkan jumlah entry unik berdasarkan userId, movieId, genre dan rating
* menampilkan informasi dataset 
* Menemukan dan menangani missing values di dataset
* Menghapus kolom "timestamp" pada rating.csv
* Memvisualisasikan jumlah genre dataset 

__Memasukkan dataset ke dalam ke dalam dataframe menggunakan pandas__

Pada proyek digunakan fungsi read di pandas untuk memasukkan dataset insurance.csv ke dalam bentuk dataframe menggunakan pandas dan dataframe itu akan tersimpan dalam variabel movies dan ratings, lalu tampilan dataset  akan seperti pada tabel 2 dan 3.

tabel 2 : Tampilan dataset movies dalam bentuk dataframe dengan pandas
|  indeks  | **movieId** |                 **title**                 |                    **genres**                   |
|:--------:|:-----------:|:-----------------------------------------:|:-----------------------------------------------:|
|   **0**  |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |
|   **1**  |      2      |               Jumanji (1995)              |           Adventure\|Children\|Fantasy          |
|   **2**  |      3      |          Grumpier Old Men (1995)          |                 Comedy\|Romance                 |
|   **3**  |      4      |          Waiting to Exhale (1995)         |              Comedy\|Drama\|Romance             |
|   **4**  |      5      |     Father of the Bride Part II (1995)    |                      Comedy                     |
|  **...** |     ...     |                    ...                    |                       ...                       |
| **9737** |    193581   | Black Butler: Book of the Atlantic (2017) |        Action\|Animation\|Comedy\|Fantasy       |
| **9738** |    193583   |        No Game No Life: Zero (2017)       |            Animation\|Comedy\|Fantasy           |
| **9739** |    193585   |                Flint (2017)               |                      Drama                      |
| **9740** |    193587   |    Bungo Stray Dogs: Dead Apple (2018)    |                Action\|Animation                |
| **9741** |    193609   |    Andrew Dice Clay: Dice Rules (1991)    |                     Comedy                      |

table 3: Tampilan dataset ratings dalam bentuk dataframe dengan pandas
| **indeks** | **userId** | **movieId** | **rating** | **timestamp** |
|:----------:|:----------:|:-----------:|:----------:|:--------------:|
|    **0**   |      1     |      1      |     4.0    |    964982703   |
|    **1**   |      1     |      3      |     4.0    |    964981247   |
|    **2**   |      1     |      6      |     4.0    |    964982224   |
|    **3**   |      1     |      47     |     5.0    |    964983815   |
|    **4**   |      1     |      50     |     5.0    |    964982931   |
|   **...**  |     ...    |     ...     |     ...    |       ...      |
| **100831** |     610    |    166534   |     4.0    |   1493848402   |
| **100832** |     610    |    168248   |     5.0    |   1493850091   |
| **100833** |     610    |    168250   |     5.0    |   1494273047   |
| **100834** |     610    |    168252   |     5.0    |   1493846352   |
| **100835** |     610    |    170875   |     3.0    |   1493846415   |

__Menampilkan jumlah entry unik berdasarkan userId, movieId, genre dan rating__
Pada proyek ini menggunakan fungsi  _unique_ untuk menghitung nilai unik yang terdapat di masing masing kolom dataset kemudian terdapat fungsi _len_ untung menghitung total dari nilai _unique_tersebut lalu setelah dihitung menggunakan fungsi _len_ akan dicetak hasilnya menggunakan fungsi _print_, hasil dari menampilkan jumlah entry, ditampilkan pada Table 4 

Tabel 4 : Tampilan jumlah entry unik di movies.csv & ratings.csv 
| Banyaknya userId yang terdaftar   | 610                                                                |
|-----------------------------------|--------------------------------------------------------------------|
| banyaknya id movie yang tersedia  | 9724                                                               |
| Banyak rating movie yang tersedia | 10                                                                 |
| rating judul film yang tersedia   | 4. 5. 3. 2. 1. 4.5 3.5 2.5 0.5 1.5                                 |
| Banyak id movie yang tersedia     | 9742                                                               |
| Jenis genres film yang tersedia   | 951                                                                |
| judul film yang tersedia          | ['Toy Story (1995)' 'Jumanji (1995)' 'Grumpier Old Men (1995)' ... |
|                                   | 'Flint (2017)' 'Bungo Stray Dogs: Dead Apple (2018)'               |
|                                   | 'Andrew Dice Clay: Dice Rules (1991)']                             |

__menampilkan informasi dataset__

Pada proyek ini digunakan fungsi info() di pandas yang digunakan untuk menampilkan informasi dari dataset, informasi seperti tipe data yang terdapat di masing masing kolom dataset, hasil dari fungsi info() dapat dilihat pada tabel 5 dan  tabel 6 

Tabel 5: Tampilan informasi movie.csv
|    #    | **column** | **Non-Null Count** | **Dtype** |
|:-------:|:----------:|:------------------:|:---------:|
| **...** |     ...    |         ...        |    ...    |
|  **0**  |   movieId  |    9742 non-null   |   int64   |
|  **1**  |    title   |    9742 non-null   |   object  |
|  **2**  |   genres   |    9742 non-null   |   object  |

Tabel 6: Tampilan informasi ratings.csv
|    #    | **column** | **Non-Null Count** | **Dtype** |
|:-------:|:----------:|:------------------:|:---------:|
| **...** |     ...    |         ...        |    ...    |
|  **0**  |   userId   |   100836 non-null  |   int64   |
|  **1**  |   movieId  |   100836 non-null  |   int64   |
|  **2**  |   rating   |   100836 non-null  |  float64  |
|  **3**  |  timestamp |   100836 non-null  |   int64   |


Pada proyek ini digunakan fungsi isnull().sum() yang berfungsi untuk menemukan nilai missing value di masing masing kolom dataset. missing value sendiri dapat diartikan sebagai nilai atribut yang kosong pada objek data. kemudian hasil dari fungsi isnull().sum() diatas dapat dilihat pada tabel 7 dan tabel 8 

Tabel 7 : pencarian missing value pada movie csv 
| movieId      | 0 |
|--------------|---|
| title        | 0 |
| genres       | 0 |
| dtype: int64 |   |

Tabel 8 :  output hasil pencarian missing value pada ratings csv 
| userId       | 0 |
|--------------|---|
| movieId      | 0 |
| rating       | 0 |
| timestamp    | 0 |
| dtype: int64 |   |



__Menghapus kolom _timestamp_ pada rating.csv__

Pada proyek ini dilakukan penghapusan kolom _timestamp_ pada rating.csv dengan fungsi _drop_, penghapusan ini dilakukan karena pada proyek ini tidak menggunakan kolom _timestamp_, lalu tampilan dataset  akan seperti pada tabel 9

tabel 9 : tabel hasil drop _timestamp_
| **indeks** | **userId** | **movieId** | **rating** | 
|:----------:|:----------:|:-----------:|:----------:|
|    **0**   |      1     |      1      |     4.0    |   
|    **1**   |      1     |      3      |     4.0    |   
|    **2**   |      1     |      6      |     4.0    |   
|    **3**   |      1     |      47     |     5.0    |   
|    **4**   |      1     |      50     |     5.0    |   
|   **...**  |     ...    |     ...     |     ...    |    
| **100831** |     610    |    166534   |     4.0    |   
| **100832** |     610    |    168248   |     5.0    | 
| **100833** |     610    |    168250   |     5.0    |  
| **100834** |     610    |    168252   |     5.0    |  
| **100835** |     610    |    170875   |     3.0    |   



__Memvisualisasikan jumlah genre dataset__

Pada proyek ini dibuat juga sebuah dataframe yang digunakan untuk menampilkan setiap genre movie yang terdapat di dataset lalu menghitung masing masing sampel genre dengan fungsi _len_, setelah itu cetak 5 data pertama dengan fungsi _head_, lalu tampilan jumlah sampel pada genre dapat dilihat pada tabel 10 

tabel 10: Tabel tampilan jumlah sampel pada setiap kategori genre 
|       |    **genre**    | **count** |
|:-----:|:---------------:|:---------:|
| **0** |      Drama      |    1053   |
| **1** |      Comedy     |    946    |
| **2** |  Comedy\|Drama  |    435    |
| **3** | Comedy\|Romance |    363    |
| **4** |  Drama\|Romance |    349    |
***
## __Data Preparation__

 ##### __Content Based filtering__
 
Pada persiapan data  data dapat dilakukan beberapa tahapan, antara lain :

* Menggabungkan dataframe rating dengan movie berdasarkan nilai movieId
* Mengecek _missing value_ 
* Mengecek _missing value_ pada variabel movie_clean dan membersihkan _missing value_ dengan fungsi _dropna_
* Menampilkan informasi dataset 
* Membagi dataset menjadi 2 Fitur yaitu _numerical_ dan _category_ 
* Menampilkan jumlah sampel & _persentase_ pada fitur _category_
* Memvisualisasikan fitur numerik 
* Mengurutkan movie berdasarkan movieId kemudian memasukkannya ke dalam variabel fix_movie 
* Mengecek berapa jumlah fix_movie
* Mengecek kategori title yang unik 
* Membuang data duplikat pada variabel preparation
* Mengonversi data series movieId, title, genre menjadi dalam bentuk list
* Membuat _dictionary_ untuk data movieId, title, genre
* Menampilkan _wordcloud_ untuk data genre dan title 

__Menggabungkan dataframe rating dengan movie berdasarkan nilai movieId__

Pada proyek ini digunakan fungsi _merge_ pada _pandas_ untuk menggabungkan 2 berkas csv yaitu movies dan ratings yang berdasarkan kolom movieId dalam satu dataframe dan dimasukkan keda;am variabel _movie_clean_, lalu tampilan dataframe hasil penggabungan _movies_ dan _ratings_ dapat dilihat pada tabel 11 

tabel 11: Dataframe hasil penggabungan _movies_ dan _ratings_
| **Indeks** | **movieId** |                 **title**                 |                    **genres**                   | **userId** | **rating** |
|:----------:|:-----------:|:-----------------------------------------:|:-----------------------------------------------:|:----------:|:----------:|
|    **0**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |     1.0    |     4.0    |
|    **1**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |     5.0    |     4.0    |
|    **2**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |     7.0    |     4.5    |
|    **3**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |    15.0    |     2.5    |
|    **4**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |    17.0    |     4.5    |
|   **...**  |     ...     |                    ...                    |                       ...                       |     ...    |     ...    |
| **100849** |    193581   | Black Butler: Book of the Atlantic (2017) |        Action\|Animation\|Comedy\|Fantasy       |    184.0   |     4.0    |
| **100850** |    193583   |        No Game No Life: Zero (2017)       |            Animation\|Comedy\|Fantasy           |    184.0   |     3.5    |
| **100851** |    193585   |                Flint (2017)               |                      Drama                      |    184.0   |     3.5    |
| **100852** |    193587   |    Bungo Stray Dogs: Dead Apple (2018)    |                Action\|Animation                |    184.0   |     3.5    |
| **100853** |    193609   |    Andrew Dice Clay: Dice Rules (1991)    |                      Comedy                     |    331.0   |     4.0    |
__100854 rows × 5 columns__

__Mengecek _missing value_ pada variabel movie_clean dan membersihkan _missing value_ dengan fungsi _dropna____

Pada proyek ini digunakan fungsi isnull().sum() yang berfungsi untuk menemukan nilai missing value di masing masing kolom dataset. missing value sendiri dapat diartikan sebagai nilai atribut yang kosong pada objek data. kemudian hasil dari fungsi isnull().sum(), dapat dilihat pada tabel 12  terdapat 18 missing value kolom userId dan rating, missing value tersebut dapat dibersihkan menggunakan fungsi _dropna_, method dropna() bisa digunakan untuk menghapus baris atau kolom yang mengandung missing values , setelah dihapus maka baris yang sebelumnya sebanyak 100854 rows × 5 columns maka akan menjadi 100836 rows × 5 columns

Tabel 12 : Tampilan pencarian _missing value_ pada variabel _movie clean_
|    movieId   | 0 |
|:------------:|:-:|
|     title    | 0 |
|    genres    | 0 |
|    userId    | 18 |
|    rating    | 18|
| dtype: int64 |   |

__Menampilkan informasi dataset__

Pada proyek ini digunakan fungsi info() di pandas yang digunakan untuk menampilkan informasi dari _movie_clean_, hasil dari fungsi info() dapat dilihat pada tabel 13

Tabel 13 : Tampilan informasi pada _variabel movie_clean_
|                    **#**                    | **Column** | **Non-Null Count** | **Dtype** |
|:-------------------------------------------:|:----------:|:------------------:|:---------:|
|                   **---**                   | **------** | **--------------** | **-----** |
|                    **0**                    |   movieId  |   100854 non-null  |   int64   |
|                    **1**                    |    title   |   100854 non-null  |   object  |
|                    **2**                    |   genres   |   100854 non-null  |   object  |
|                    **3**                    |   userId   |   100836 non-null  |  float64  |
|                    **4**                    |   rating   |   100836 non-null  |  float64  |
| **dtypes: float64(2), int64(1), object(2)** |            |                    |           |


__Membagi dataset menjadi 2 Fitur yaitu _numerical_ dan _category___

Pada proyek ini membagi dataset menjadi 2 fitur _numerical_ dan _category_ dengan tujuan memvisualisasikan dataset tersebut, dan dapat dilihat pada gambar 8, untuk fitur kategori _numerical_ dapat dimasukkan kolom movieId, userId, dan rating sedangkan untuk fitur _category_ biasanya dipakai tipe data objek dan pada fitur ini dapat dimasukkan kolom _title_ dan _genres_


__Menampilkan jumlah sampel & persentase pada fitur category__

Pada proyek ini digunakan fitur _category_ untuk menampilkan  jumlah sampel dan _persentase_ pada kolom title dan genre,lalu untuk melihat hasil jumlah sampel dan _persentase_ dapat dilihat pada Tabel 14  dan tabel 15  

Tabel 14 : Tampilan jumlah sampel movies dan _persentase_ 
|              Title Movie              | **jumlah sampel** | **persentase** |
|:-------------------------------------:|:-----------------:|:--------------:|
|          Forrest Gump (1994)          |        329        |       0.3      |
|    Shawshank Redemption, The (1994)   |        317        |       0.3      |
|          Pulp Fiction (1994)          |        307        |       0.3      |
|    Silence of the Lambs, The (1991)   |        279        |       0.3      |
|           Matrix, The (1999)          |        278        |       0.3      |
|                  ...                  |        ...        |       ...      |
|              Pride (2007)             |         1         |       0.0      |
| We're Back! A Dinosaur's Story (1993) |         1         |       0.0      |
|     Black Book (Zwartboek) (2006)     |         1         |       0.0      |
|        Are We Done Yet? (2007)        |         1         |       0.0      |
|  Andrew Dice Clay: Dice Rules (1991)  |         1         |       0.0      |
__9737 rows x 2 columns__

Tabel 15 : Tampilan jumlah sampe genre dan _persentase_ 
|                  genre                  | **jumlah sampel** | **persentase** |
|:---------------------------------------:|:-----------------:|:--------------:|
|                  Comedy                 |        7197       |       7.1      |
|                  Drama                  |        6294       |       6.2      |
|             Comedy\|Romance             |        3968       |       3.9      |
|          Comedy\|Drama\|Romance         |        3001       |       3.0      |
|              Comedy\|Drama              |        2851       |       2.8      |
|                   ...                   |        ...        |       ...      |
|    Animation\|Drama\|Romance\|Sci-Fi    |         1         |       0.0      |
| Action\|Comedy\|Drama\|Horror\|Thriller |         1         |       0.0      |
|          Horror\|Thriller\|IMAX         |         1         |       0.0      |
|        Fantasy\|Mystery\|Western        |         1         |       0.0      |
|    Action\|Animation\|Comedy\|Fantasy   |         1         |       0.0      |
__951 rows x 2 columns__

__Memvisualisasikan fitur numerik__

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.11.PNG?raw=true)
Gambar 3 : Visualisasi histogram pada fitur numerik 

Pada gambar 3, merupakan visualisasi histogram yang dilakukan pada fitur numerik yaitu movieId, userId, dan rating, dari histogram tersebut dapat diperoleh _insight_ sebagai berikut :

* Pada histogram __rating__, dapat dilihat bahwa rating movie yang memiliki rata rata rating 4.0 memiliki jumlah movie terbanyak diantara rating lainnya.
* Pada histogram __userId__, dapat dilihat bahwa userId terdaftar paling banyak berada di kisaran angka 600 .
* Pada histogram __movieId__,dapat dilihat bahwa movieId dengan id 0 terdaftar paling banyak berada di kisaran angka hampir mencapai 600000 .

__Mengurutkan movie berdasarkan movieId kemudian memasukkannya ke dalam variabel fix_movie__

Pada bagian ini terdapat langkah mengurutkan variabel _movie_clean_ berdasarkan movieId dengan urutan bertipe _ascending_ setelah itu dimasukkan kedalam variabel fix_movie, untuk hasil urutan tabel _movie_clean_ dapat dilihat di tabel 16

tabel 16 : Hasil sorting tabel berdasarkan movieId 
| **Indeks** | **movieId** |                 **title**                 |                    **genres**                   | **userId** | **rating** |
|:----------:|:-----------:|:-----------------------------------------:|:-----------------------------------------------:|:----------:|:----------:|
|    **0**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |     1.0    |     4.0    |
|    **1**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |     5.0    |     4.0    |
|    **2**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |     7.0    |     4.5    |
|    **3**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |    15.0    |     2.5    |
|    **4**   |      1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |    17.0    |     4.5    |
|   **...**  |     ...     |                    ...                    |                       ...                       |     ...    |     ...    |
| **100849** |    193581   | Black Butler: Book of the Atlantic (2017) |        Action\|Animation\|Comedy\|Fantasy       |    184.0   |     4.0    |
| **100850** |    193583   |        No Game No Life: Zero (2017)       |            Animation\|Comedy\|Fantasy           |    184.0   |     3.5    |
| **100851** |    193585   |                Flint (2017)               |                      Drama                      |    184.0   |     3.5    |
| **100852** |    193587   |    Bungo Stray Dogs: Dead Apple (2018)    |                Action\|Animation                |    184.0   |     3.5    |
| **100853** |    193609   |    Andrew Dice Clay: Dice Rules (1991)    |                      Comedy                     |    331.0   |     4.0    |
__100836 rows x5 columns__

__Mengecek berapa jumlah fix_movie__

Pada bagian adalah pengecekkan entry unik pada variabel fix_movie yang berdasarkan movieId setelah itu dilakukan perhitungan dengan fungsi _len_, untuk melihat output dapat dilihat pada tabel 17

Tabel 17 : Total jumlah perhitungan entry unik variabel fix_movie berdasarkan movieId
| 9724 |
|------|
 
__Mengecek kategori title yang unik__

Pada bagian ini adalah Pada bagian adalah pengecekkan entry unik pada variabel fix_movie yang berdasarkan title setelah itu dilakukan perhitungan dengan fungsi _len_, untuk melihat output dapat dilihat pada Tabel 18 

Tabel 18 :  Output hasil entry unik variabel unik fix_movie berdasarkan title 
| array(['Toy Story (1995)', 'Jumanji (1995)', 'Grumpier Old Men (1995)', |
|-------------------------------------------------------------------------|
| ..., 'Flint (2017)', 'Bungo Stray Dogs: Dead Apple (2018)',             |
| 'Andrew Dice Clay: Dice Rules (1991)'], dtype=object)                   |


__Membuang data duplikat pada variabel preparation__

Pada bagian ini penghapus data duplikat di variabel fix_movie berdasarkan movieId menggunakan fungsi _drop_duplicates_ setelah itu dimasukkan pada variabel _preparation_movie_, setelah dihapus maka baris yang sebelumnya di tabel 16 sebanyak 100836 rows x5 columns menjadi 9724 rows × 5 columns

__Mengkonversikan data series movieId, title, genre menjadi dalam bentuk list__

Pada bagian ini adalah bagian untuk mengkonversikan data series movieId, title, genre yang ada di variabel preparation_movie menjadi dalam bentuk list setelah itu totalkan jumlah hasil konversi bentuk list dari movieId, title, genre menggunakan fungsi _len_ kemudian cetak hasilnya menggunakan fungsi _print_

__Membuat dictionary untuk data movieId, title, genre__

Pada bagian ini terdapat langkah membuat dictionary untuk data movieId, title, genre dalam satu data frame dan dimasukkan ke dalam variabel movie_new setelah itu variabel movie_new dimasukkan kedalam variabel data , untuk hasil tabel dapat dilihat di tabel 19. 

tabel 19 : Hasil dictionary data frame movieId, title, genre
|          | **movie_ID** |              **title_Movie**              |                 **genres_Movie**                |
|:--------:|:------------:|:-----------------------------------------:|:-----------------------------------------------:|
|   **0**  |       1      |              Toy Story (1995)             | Adventure\|Animation\|Children\|Comedy\|Fantasy |
|   **1**  |       2      |               Jumanji (1995)              |           Adventure\|Children\|Fantasy          |
|   **2**  |       3      |          Grumpier Old Men (1995)          |                 Comedy\|Romance                 |
|   **3**  |       4      |          Waiting to Exhale (1995)         |              Comedy\|Drama\|Romance             |
|   **4**  |       5      |     Father of the Bride Part II (1995)    |                      Comedy                     |
|  **...** |      ...     |                    ...                    |                       ...                       |
| **9719** |    193581    | Black Butler: Book of the Atlantic (2017) |        Action\|Animation\|Comedy\|Fantasy       |
| **9720** |    193583    |        No Game No Life: Zero (2017)       |            Animation\|Comedy\|Fantasy           |
| **9721** |    193585    |                Flint (2017)               |                      Drama                      |
| **9722** |    193587    |    Bungo Stray Dogs: Dead Apple (2018)    |                Action\|Animation                |
| **9723** |    193609    |    Andrew Dice Clay: Dice Rules (1991)    |                      Comedy                     |
__9724 rows × 3 columns__

__Menampilkan wordcloud untuk data genre dan title__

Pada bagian ini dilakukan tahap _wordcloud_ untuk menunjukkan kata mana yang paling banyak ditulis didalam kolom title dan genre, dan dapat dilihat pada gambar 4 bahwa kata comedy dan drama adalah kata yang paling banyak ditulis didalam kolom genre sedangkan pada gambar 5, dapat dilihat bahwa kata _Saturn 3 (1980)_ dan _Emma (1996)_  adalah kata yang paling banyak ditulis didalam kolom title  

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.15.PNG?raw=true)

Gambar 4 : _wordcloud_ pada kolom genre 

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.16.PNG?raw=true)

Gambar 5 : _wordcloud_ pada kolom title 

***
 ##### __collaborative filtering__
 
 Pada persiapan data data dapat dilakukan beberapa tahapan, antara lain :
 
 * Menyandikan (encode) fitur 'userID ' dan ' movieID' ke dalam indeks integer dengan cara mengubah userID dan movie menjadi list tanpa nilai yang sama, melakukan _encoding_ userID  dan movieID serta melakukan proses _encoding_ angka ke userID dan movieID 
 * Memetakan ‘userID’ dan ‘movieID’ ke dataframe yang berkaitan.
 * Mengecek beberapa hal dalam data seperti jumlah user, jumlah movie, kemudian mengubah nilai rating menjadi float, mendapatkan nilai rating _minimum_ dan _maximum_
 
__Menyandikan (encode) fitur 'userID ' dan ' movieID' ke dalam indeks integer dengan cara mengubah userID dan movieID menjadi list tanpa nilai yang sama, melakukan _encoding_ userID  dan movieID serta melakukan proses _encoding_ angka ke userID dan movieID__

1. Pada bagian ini _encode_ pada fitur 'userID' dan "movieID" dengan yang pertama kita melakukan pengubahan userID dan movieID menjadi list tanpa nilai yang sama dengan cara mencari nilai _entry_ unik pada dataset di kolom userID  dan mengubahnya dalam bentuk list setelah itu dimasukkan dalam bentuk variabel baru yaitu user_ids dan movie_ids lalu hasil tersebut dicetak menggunakan fungsi _print_

2. Setelah itu melakukan proses _encoding_  pada userID dan movieID dengan cara perulangan _i_ di variabel x = _i_ setelah itu dilakukan proses _enumerate_ yaitu proses mengubah nilai _tuple_ kedalam bentuk _objek_ pada variabel user_ids dan movie_ids setelah itu dimasukkan ke dalam variabel user_to_user_encoded dan movie_to_movie_encoded lalu hasil tersebut dicetak menggunakan fungsi _print_

3. Terakhir melakukan proses _encoding_ angka ke userID dengan cara perulangan _i_ di variabel  _i_= x  setelah itu dilakukan proses _enumerate_ yaitu proses mengubah nilai _tuple_ kedalam bentuk _objek_ pada variabel user_ids dan movie_ids setelah itu dimasukkan ke dalam variabel user_encodend_to_user dan user_encodend_to_movie lalu hasil tersebut dicetak menggunakan fungsi _print_

__Memetakan ‘userID’ dan ‘movieID’ ke dataframe yang berkaitan__ 

Pada bagian ini kita akan melakukan _mapping_ pada data frame  kolom user dan kolom movie serta pada data frame kolom user_ID dan movie_ID ke dalam variabel user_to_user_encoded dan movie_to_movie_encoded


__Mengecek beberapa hal dalam data seperti jumlah user, jumlah movie, kemudian mengubah nilai rating menjadi float, mendapatkan nilai rating _minimum_ dan _maximum___

1. Pada bagian ini, yang pertama kita lakukan melakukan perhitungan total jumlah total user dan movie dengan fungsi _len_ pada variabel user_to_user_encoded dan movie_to_movie_encoded kemudian dimasukkan kedalam variabel baru yaitu num_users dan num_movie dan mencetak hasilnya dengan fungsi _print_
2. Selanjutnya, yang dilakukan adalah proses mengubah nilai rating menjadi tipe data _float_
3. Terakhir, yang dilakukan mencari nilai _minimum_ dan _maximum_ pada kolom rating menggunakan fungsi _min_ dan _max_
***
## __Modelling__

#### __Content based filtering__
* Melakukan Teknik TF-IDF Vectorizer untuk menemukan representasi fitur penting dari setiap kategori movie dan genre

*  Menghitung derajat kesamaan (similarity degree) antar movie dengan teknik _cosine similarity_

* Mendapatkan rekomendasi 

__Melakukan Teknik TF-IDF Vectorizer untuk menemukan representasi fitur penting dari setiap kategori movie dan genre__

1. Pada bagian ini, yang pertama dilakukan adalah Inisialisasi TfidfVectorizer.TfidfVectorizer sendiri digunakan untuk mengubah kumpulan dokumen mentah menjadi matriks fitur TF-IDF.

2. Setelah itu melakukan perhitungan _idf_ pada kolom title_movie pada dataframe di variabel data 

3. Kemudian melakukan _mapping array_ dari fitur _indeks integer_ ke fitur nama menggunakan fungsi  _get_feature_names()_

4. Lalu melakukan _fit_ kemudian di _transformasikan_ ke dalam bentuk _matriks_ pada kolom title_movie di dataframe pada variabel data menggunakan fungsi _fit_transform_ lalu hasil tersebut dimasukkan kedalam variabel baru yaitu tfidf_matrix kemudian setelah itu untuk melihat ukuran _matriks_ dapat menggunakan fungsi _shape_ pada variabel tfidf_matrix, dan dapat dilihat hasil ukuran matriks pada tabel 20.

Tabel 20 :  Hasil output ukuran matriks 
| (9724, 9253) |
|--------------|

5. Kemudian melakukan pengubahan vektor tf-idf dalam bentuk matriks dengan fungsi _todense()_, dan dapat dilihat pada tabel 21 terdapat  hasil _array matriks_ vektor tf-idf

Tabel 21 :Array matriks vektor tf-idf
| matrix([[0., 0., 0., ..., 0., 0., 0.], |
|----------------------------------------|
| [0., 0., 0., ..., 0., 0., 0.],         |
| [0., 0., 0., ..., 0., 0., 0.],         |
| ...,                                   |
| [0., 0., 0., ..., 0., 0., 0.],         |
| [0., 0., 0., ..., 0., 0., 0.],         |
| [0., 0., 0., ..., 0., 0., 0.]])        |


6. Terakhir pada bagian ini, dilakukan pembuatan _data frame_ baru untuk melihat hasil dari matriks vektor tf-idf dengan isi kolom _data frame_ menggunakan hasil dari fungsi _get_feature_names_ dan baris menggunakan isi kolom dari title_movie, hasil dari _data frame tf-idf_ dapat dilihat pada tabel 22.

Tabel 22: Data frame hasil vektor tf-idf
|            **title_Movie**            | **atragon** | **sally** | **year** | **conan** | **jima** | **harvey** | **before** | **1987** | **dansu** | **snogging** | **...** | **1989** | **fears** | **avonlea** | **brood** | **mooseport** | **afternoon** | **hitch** | **flipped** |
|:-------------------------------------:|:-----------:|:---------:|:--------:|:---------:|:--------:|:----------:|:----------:|:--------:|:---------:|:------------:|:-------:|:--------:|:---------:|:-----------:|:---------:|:-------------:|:-------------:|:---------:|:-----------:|
|          **12 Chairs (1971)**         |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|            **Dumbo (1941)**           |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|   **Steal Big, Steal Little (1995)**  |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|         **Glory Daze (1995)**         |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|    **Babylon 5: Thirdspace (1998)**   |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|          **Coneheads (1993)**         |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|         **ParaNorman (2012)**         |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|      **Good Will Hunting (1997)**     |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
|          **Tarantula (1955)**         |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |
| **Great Mouse Detective, The (1986)** |     0.0     |    0.0    |    0.0   |    0.0    |    0.0   |     0.0    |     0.0    |    0.0   |    0.0    |      0.0     |   ...   |    0.0   |    0.0    |     0.0     |    0.0    |      0.0      |      0.0      |    0.0    |     0.0     |


__Menghitung derajat kesamaan (similarity degree) antar movie dengan teknik _cosine similarity___

Pada bagian ini dilakukan tahap mengidentifikasi korelasi antara user dan movie dengan cara  menghitung derajat kesamaan (similarity degree) antar user dan movie dengan teknik ___cosine similarity___

1. Pertama, melakukan _cosine similarity_ pada matrix tf-idf dan dimasukkan ke dalam variabel cosine_sim, dan dapat dilihat pada tabel 23

Tabel 23 : Array hasil variabel cosine_sim
| array([[1.                  | , 0.1872586 , 0.13384488, ..., 0. | , 0. | ,         |      |   |
|-----------------------------|-----------------------------------|------|-----------|------|---|
| 0.                          | ],                                |      |           |      |   |
| [0.1872586 , 1.             | , 0.1469799 , ..., 0.             | , 0. | ,         |      |   |
| 0.                          | ],                                |      |           |      |   |
| [0.13384488, 0.1469799 , 1. | , ..., 0.                         | , 0. | ,         |      |   |
| 0.                          | ],                                |      |           |      |   |
| ...,                        |                                   |      |           |      |   |
| [0.                         | , 0.                              | , 0. | , ..., 1. | , 0. | , |
| 0.                          | ],                                |      |           |      |   |
| [0.                         | , 0.                              | , 0. | , ..., 0. | , 1. | , |
| 0.                          | ],                                |      |           |      |   |
| [0.                         | , 0.                              | , 0. | , ..., 0. | , 0. | , |

2. Kemudian, Membuat dataframe dari variabel cosine_sim dengan baris yang diisi dengan genres_movie  dan kolom berupa title_movie setelah itu dimasukkan ke dalam variabel cosine_sim_df kemudian untuk melihat ukuran matriks cosine_sim_df menggunakan fungsi _shape_, dengan hasilnya pada tabel 24 menunjukkan bahwa ukuran shape matriks cosine_sim_df adalah 9724 kolom dan 9724 baris  , dan untuk melihat hasil dataframe similiritas dapat dilihat pada tabel 25. 

Tabel 24: Ukuran shape matriks cosine_sim_df
| Shape: (9724, 9724) |
|---------------------|

tabel 25: Tabel dataframe similiritas
|               **title_Movie**               | **Sicario (2015)** | **The Fundamentals of Caring (2016)** | **Waking Life (2001)** | **Pacific Rim (2013)** | **Substitute, The (1996)** |   |
|:-------------------------------------------:|:------------------:|:-------------------------------------:|:----------------------:|:----------------------:|:--------------------------:|---|
|               **genres_Movie**              |                    |                                       |                        |                        |                            |   |
|                  **Drama**                  |         0.0        |                0.000000               |        0.371983        |        0.000000        |          0.000000          |   |
|            **Action\|Animation**            |         0.0        |                0.000000               |        0.000000        |        0.000000        |          0.000000          |   |
|              **Drama\|Musical**             |         0.0        |                0.000000               |        0.000000        |        0.000000        |          0.000000          |   |
|             **Comedy\|Romance**             |         0.0        |                0.020262               |        0.000000        |        0.000000        |          0.147957          |   |
|        **Action\|Adventure\|Fantasy**       |         0.0        |                0.026985               |        0.000000        |        0.000000        |          0.037115          |   |
|          **Action\|Comedy\|Crime**          |         0.0        |                0.023206               |        0.000000        |        0.000000        |          0.031917          |   |
|                  **Drama**                  |         0.0        |                0.000000               |        0.000000        |        0.000000        |          0.000000          |   |
|           **Action\|Crime\|Drama**          |         0.0        |                0.000000               |        0.000000        |        0.000000        |          0.000000          |   |
|       **Adventure\|Children\|Fantasy**      |         0.0        |                0.042605               |        0.000000        |        0.099018        |          0.000000          |   |
| **Comedy\|Drama\|Horror\|Sci-Fi\|Thriller** |         0.0        |                0.023197               |        0.000000        |        0.000000        |          0.031905          |

Pada tabel 24 menunjukkan Dengan cosine similarity berhasil mengidentifikasi kesamaan antara genre movie dan title movie dengan ukuran shape (9724, 9724) merupakan ukuran matriks similarity dari data yang kita miliki. Berdasarkan data yang ada, matriks di atas sebenarnya berukuran 9724 genres x 9724 title  (masing-masing dalam sumbu X dan Y). Artinya, kita mengidentifikasi tingkat kesamaan pada 9724 antara genre dan title .

Pada tabel 25 menunjukkan 10 genre_Movie pada baris vertikal dan 5 title_Movie pada sumbu horizontal yang dapat diindentifikasi  kesamaan antara genre movie dan title movie

__Mendapatkan rekomendasi__

1. Pada bagian ini, yang pertama  dilakukan adalah  pembuatan fungsi rekomendasi movie berdasarkan kemiripan _data frame_ dengan parameter yang dipakai sebagai berikut :
* title_movie : judul film  (index kemiripan dataframe).
* Similarity_data : Dataframe mengenai similarity yang telah kita definisikan sebelumnya.
* Items : Nama dan fitur yang digunakan untuk mendefinisikan kemiripan, dalam hal ini adalah ‘genre_Movie’ dan ‘title_Movie’.
* k : Banyak rekomendasi yang ingin diberikan, pada kasus ini, k sebanyak 5 .
* Pada index ini, kita mengambil k dengan nilai similarity terbesar 
    pada index matrix yang diberikan (i).

2. Setelah itu dilakukan pengambilan data menggunakan argpartition untuk melakukan partisi secara tidak langsung sepanjang sumbu yang diberikan pada kolom title_Movie kemudian pada kolom title_Movie dilakukan penghitungan derajat kesamaan dengan fungsi _similarity_ dan dimasukkan pada variabel _index_ kemudian ubah _data frame_ menggunakan _numpy_ setelah itu dilakukan _range_ data pada kolom title_Movie

3. Kemudian dilakukan pengambilan data dengan similarity terbesar dari index yang ada dan dimasukkan ke dalam variabel closest 

4. Setelah itu dilakukan penghapusan title_Movie menggunakan fungsi _drop_ pada title_Movie agar title_Movie yang dicari tidak muncul dalam daftar rekomendasi setelah itu dilakukan pengambilan nilai menggunakan fungsi _return_ untuk mengembalikan nilai similarity terbesar dari index yang ada dan dan dimasukkan ke dalam _data frame_ dengan isi data frame tersebut adalah nilai dari variabel _closest_ dan pada diurutkan berdasarkan _items_

5. Setelah itu dilakukan pengujian rekomendasi berdasarkan title_Movie pada variabel data untuk mencari rekomendasi film dengan contoh film yaitu "The Greatest Showman (2017)" dan juga dilakukan pengujian rekomendasi berdasarkan genre pada variabel data untuk mencari rekomendasi film berdasarkan inputan rekomendasi genre yang diinginkan yaitu _drama_ , lalu hasil output rekomendasi film dapat dilihat pada tabel 26 dan tabel 27 

Tabel 26 : Hasil output rekomendasi film yang berhasil 
|          | **movie_ID** |       **title_Movie**       | **genres_Movie** |
|:--------:|:------------:|:---------------------------:|:----------------:|
| **9638** |    180985    | The Greatest Showman (2017) |       Drama      |

Tabel 27 : Hasil output rekomendasi genre yang berhasil 
|          | **movie_ID** |         **title_Movie**         | **genres_Movie** |
|:--------:|:------------:|:-------------------------------:|:----------------:|
|  **13**  |      14      |           Nixon (1995)          |       Drama      |
|  **25**  |      26      |          Othello (1995)         |       Drama      |
|  **30**  |      31      |      Dangerous Minds (1995)     |       Drama      |
|  **36**  |      40      | Cry, the Beloved Country (1995) |       Drama      |
|  **39**  |      43      |        Restoration (1995)       |       Drama      |
|  **...** |      ...     |               ...               |        ...       |
| **9638** |    180985    |   The Greatest Showman (2017)   |       Drama      |
| **9654** |    182793    |      The Purple Sea (2009)      |       Drama      |
| **9709** |    190213    |         John From (2015)        |       Drama      |
| **9710** |    190215    |       Liquid Truth (2017)       |       Drama      |
| **9721** |    193585    |           Flint (2017)          |       Drama      |


6. Setelah itu dilakukan rekomendasi berdasarkan _genres movie_ berdasarkan hasil rekomendasi genre yang berhasil dilakukan pada tabel 28, setelah itu digunakan fungsi _drop duplicates_ agar jika ada genre movie yang memiliki duplikat akan dihapus, lalu hasilnya dapat dilihat pada tabel 28 

Tabel 28: Output hasil rekomendasi berdasarkan _genres movie_ berdasarkan hasil rekomendasi genre yang berhasil dilakukan pada Tabel ... 
| genres_Movie                                    |   |
|-------------------------------------------------|---|
| Adventure\|Animation\|Children\|Comedy\|Fantasy | 0 |
| Adventure\|Children\|Fantasy                    | 1 |
| Comedy\|Romance                                 | 2 |
| Comedy\|Drama\|Romance                          | 3 |
| Comedy                                          | 4 |
| dtype: int64                                    |   |

7. Setelah itu  dilakukan pembuatan _data frame _ kemudian lalukan  pencarian rekomendasi yang memiliki kemiripan dengan judul film The Greatest Showman (2017),dan dapat dilihat pada tabel 28 , ada 5 film yang memiliki kemiripan dengan film he Greatest Showman (2017) dengan hasil dapat dilihat pada tabel 29 

Tabel 29 : Hasil rekomendasi film yang memiliki kemiripan dengan judul film The Greatest Showman (2017)
|       |            **title_Movie**            | **genres_Movie** |
|:-----:|:-------------------------------------:|:----------------:|
| **0** |      World's Greatest Dad (2009)      |   Comedy\|Drama  |
| **1** | Greatest Game Ever Played, The (2005) |       Drama      |
| **2** |  Greatest Story Ever Told, The (1965) |       Drama      |
| **3** |            The House (2017)           |      Comedy      |
| **4** |               It (2017)               |      Horror      |


8. Terakhir pada bagian ini, dilakukan penghitungan genre film yang memiliki kemiripan dengan judul film The Greatest Showman (2017),dan dapat dilihat pada gambar 24, ada 4 genre yang memiliki kemiripan dengan film he Greatest Showman (2017), dan dapat dilihat pada tabel 30 

Tabel 30 : Hasil output  4 genre yang memiliki kemiripan dengan film he Greatest Showman (2017) 
|       | **genres_Movie** | **count** |
|:-----:|:----------------:|:---------:|
| **0** |       Drama      |     2     |
| **1** |   Comedy\|Drama  |     1     |
| **2** |      Comedy      |     1     |
| **3** |      Horror      |     1     |

***
##### __Collaborative filtering__

Pada bagian ini dilakukan modelling dengan Collaborative filtering memakai pendekatan _deep learning_, dengan urutan modelling sebagai berikut : 
* Melakukan pengacakan  datanya terlebih dahulu agar distribusinya menjadi random
* Membuat variabel x untuk mencocokkan data user dan movie menjadi satu value dan y untuk membuat rating dari hasil Kemudian melakukan  Pembagian data menjadi data training dan validasi 
* Setelah itu dilakukan pembuatan model untuk menghitung  skor kecocokan antara pengguna dan movie dengan teknik embedding.
* Kemudian lakukan proses _compile_ pada model 
* Setelah itu lakukan proses training model dengan _epoch_ 100
* Membuat kelas untuk mengambil sampel user secara acak dan definisikan variabel movie_not_visited sebagai sebagai daftar movie untuk direkomendasikan pada pengguna.
* memperoleh rekomendasi restoran, gunakan fungsi model.predict() dari library Keras
*  Visualisasi plot metrik evaluasi dengan matplotlib

__Melakukan pengacakan  datanya terlebih dahulu agar distribusinya menjadi random__

Pada bagian  ini dilakukan pengacakan pada dataset dengan tujuan agar distribusinya menjadi random dengan menggunakan fungsi _random_  pada _pandas_, dan hasil pengacakan dataset dapat dilihat pada tabel 31 

tabel 31 : Hasil pengacakan dataset 
| **indeks** | **userId** | **movieId** | **rating** | **user** | **movie** |
|:----------:|:----------:|:-----------:|:----------:|:--------:|:---------:|
|  **67037** |     432    |    77866    |     4.5    |    431   |    4730   |
|  **42175** |     288    |     474     |     3.0    |    287   |    474    |
|  **93850** |     599    |     4351    |     3.0    |    598   |    2631   |
|  **6187**  |     42     |     2987    |     4.0    |    41    |    194    |
|  **12229** |     75     |     1610    |     4.0    |    74    |    727    |
|   **...**  |     ...    |     ...     |     ...    |    ...   |    ...    |
|  **6265**  |     42     |     4005    |     4.0    |    41    |    1873   |
|  **54886** |     364    |     141     |     4.0    |    363   |    524    |
|  **76820** |     480    |     6867    |     4.0    |    479   |    2240   |
|   **860**  |      6     |     981     |     3.0    |     5    |    712    |
|  **15795** |     103    |     6711    |     5.0    |    102   |    2046   |

__Membuat variabel x untuk mencocokkan data user dan movie menjadi satu value dan y untuk membuat rating dari hasil dan membagi dataset menjadi data training dan validasi__

Pada bagian ini dilakukan pembuatan variabel 'x' pada kolom user dan movie agar  dapat menjadi satu _values_ setelah itu dibuat lagi variabel 'y' untuk membuat rating dari hasi dengan hasil akhir rating didapat dari hasil pembagian nilai variabel x dikurangi dengan nilai minimum rating dibagi dengan nilai max rating dikurangi nilai minimum rating  kemudian dijadikan satu values setelah itu dilakukan pembagian dataset menjadi data training dengan ukuran dataset sekitar 80 %  dari dataset  dan data validasi dengan ukuran dataset sekitar 20 % dari dataset setelah itu cetak hasil variabel x dan y menggunakan fungsi _print_, lalu hasilnya dapat dilihat pada tabel 32 

Tabel 32: Hasil pembagian dataset training dan validasi 
| [[ 431 4730]                                                                |      |      |
|-----------------------------------------------------------------------------|------|------|
| [ 287                                                                       | 474] |      |
| [ 598 2631]                                                                 |      |      |
| ...                                                                         |      |      |
| [ 479 2240]                                                                 |      |      |
| [                                                                           | 5    | 712] |
| [ 102 2046]] [0.88888889 0.55555556 0.55555556 ... 0.77777778 0.55555556 1. | ]    |      |


__Setelah itu dilakukan pembuatan model menghitung skor kecocokan antara pengguna dan movie dengan teknik embedding__

Pada bagian ini dilakukan untuk pertama kali yaitu proses embedding terhadap data user dan movie dengan beberapa layer embedding  yang digunakan sebagai berikut yaitu layer embedding user,  layer embedding user bias, layer embeddings movie, layer embedding movie bias. Selanjutnya, lakukan operasi perkalian dot product antara embedding user dan movie. Selain itu, kita juga dapat menambahkan bias untuk setiap user dan resto dengan menambahkan layer pada embeddingnya lalu lakukan Skor kecocokan ditetapkan dalam skala [0,1] dengan fungsi aktivasi sigmoid

__Proses compile pada model__

Pada compile ini menggunakan  class RecommenderNet dengan keras Model class dengan parameter yang digunakan sebagai berikut :
*  Binary Crossentropy untuk menghitung loss function,
*  Adam (Adaptive Moment Estimation) sebagai optimizer
*  root mean squared error (RMSE) sebagai metrics evaluation. 

__Proses training model__

Pada bagian ini dilakukan proses training model dengan parameter yang digunakan sebagai berikut :
* x : variabel pada x_train
* y : variabel pada y_train
* _batch_size_ = 8 : artinya jumlah sampel yang dimasukkan dalam satu training sebanyak 8 sampel 
* _epoch_ = 100  : jumlah proses training yang dilakukan sebanyak 100 kali 
* validation_data = (x_val, y_val) : artinya data yang akan divalidasi didapatkan dari variabel x_val, y_val

__Membuat kelas untuk mengambil sampel user secara acak dan definisikan variabel movie_not_visited sebagai sebagai daftar movie untuk direkomendasikan pada pengguna__

1. Membuat sebuah variabel baru yaitu movie_df untuk menampung dataset  dari variabel movie_new dan membuat variabel df untuk menampung dataset dari ratings.csv 
2. Mengambil sampel userID dengan cara menggunakan fungsi _iloc_ yang berguna untuk menyeleksi data pada kolom userID dan dimasukkan kedalam variabel user_id kemudian hasil user_id dibandingkan dengan userID yang terdapat di ratings.csv kemudian hasil tersebut dimasukkan kedalam variabel movie_visited_by_user
3. Setelah itu buat variabel baru yaitu movie_not_visited untuk menampung hasil penyeleksian _keys_ dari movieID dan setelah iu dibuatlah sebuah perulangan _for_ pada movie_not_visited untuk mendapatkan nilai x pada variabel [movie_to_movie_encoded dan terakhir dibuatlah sebuah variabel baru user_encoder untuk menampung hasil encoded berdasarkan userID 

__Memperoleh rekomendasi restoran, gunakan fungsi model.predict() dari library Keras__

Pada bagian ini dilakukan rekomendasi film dengan fungsi m_model.predict()_ pada variabel user_movie_array setelah itu dilakukan pengurutan rekomendasi film berdasarkan movieID yang dimiliki dan tampilkan hasil tersebut sebanyak 20 rekomendasi film kemudian dilakukan juga rekomendasi film yang direkomendasikan kepada user berdasarkan rating yang dimilikinya dan tampilkan itu sebanyak 5 rekomendasi film, untuk melihat hasil rekomendasi dapat dilihat pada tabel 33

Tabel 33: Hasil rekomendasi film
| [100854 rows x 5 columns]                                                                  |
|--------------------------------------------------------------------------------------------|
| ===========================                                                                |
| Movie with high ratings from user                                                          |
| --------------------------------                                                           |
| Blade Runner (1982) : Action\|Sci-Fi\|Thriller                                             |
| Third Man, The (1949) : Film-Noir\|Mystery\|Thriller                                       |
| Full Metal Jacket (1987) : Drama\|War                                                      |
| Stalker (1979) : Drama\|Mystery\|Sci-Fi                                                    |
| Boot, Das (Boat, The) (1981) : Action\|Drama\|War                                          |
| --------------------------------                                                           |
| Top 20 movie recommendation                                                                |
| --------------------------------                                                           |
| Heidi Fleiss: Hollywood Madam (1995) : Documentary                                         |
| Paths of Glory (1957) : Drama\|War                                                         |
| Cruise, The (1998) : Documentary                                                           |
| Hard Core Logo (1996) : Comedy\|Drama                                                      |
| Long Goodbye, The (1973) : Crime\|Film-Noir                                                |
| Man Bites Dog (C'est arrivé près de chez vous) (1992) : Comedy\|Crime\|Drama\|Thriller     |
| Titanic (1953) : Action\|Drama                                                             |
| Jonah Who Will Be 25 in the Year 2000 (Jonas qui aura 25 ans en l'an 2000) (1976) : Comedy |
| All the Vermeers in New York (1990) : Comedy\|Drama\|Romance                               |
| Stunt Man, The (1980) : Action\|Adventure\|Comedy\|Drama\|Romance\|Thriller                |
| Android (1982) : Sci-Fi                                                                    |
| Belle époque (1992) : Comedy\|Romance                                                      |
| Trial, The (Procès, Le) (1962) : Drama                                                     |
| Adam's Rib (1949) : Comedy\|Romance                                                        |
| Story of Women (Affaire de femmes, Une) (1988) : Drama                                     |
| Bad Boy Bubby (1993) : Drama                                                               |
| Eichmann (2007) : Drama\|War                                                               |
| Meantime (1984) : Comedy\|Drama                                                            |
| Enter the Void (2009) : Drama                                                              |
| Band of Brothers (2001) : Action\|Drama\|War                                               |


__Visualisasi plot metrik evaluasi dengan matplotlib__

Pada bagian ini dilakukan visualisasi _plot metrik_ dengan y didapat dari hasil root_mean_squared_error dan x merupakan epoch yang dilakukan, untuk melihat visualisasi plot _metric_ dapat dilihat pada gambar 6 

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.34.PNG?raw=true)

Gambar 6 : visualisasi plot _metric_
***
## __Evalution__

#### __Content based filtering__

Metric yang digunakan pada sistem rekomendasi judul film berdasarkan teknik __Content based filtering__ adalah accuracy precision. Precision adalah metrik yang membandingkan rasio prediksi benar atau positif dengan keseluruhan hasil yang diprediksi positif dengan rumus
```python 
Precission = (TP) / (TP+FP).
    
keterangan:
TP = True Positif (prediksi positif dan hal tersebut benar)
FP = False Negatif (prediksi positif dan hal tersebut salah)
```
Alasan memilih Akurasi adalah karena metrik ini memungkinkan Anda untuk membandingkan positif atau proporsi prediksi positif dengan keseluruhan hasil prediksi positif. Dalam hal ini, persentase artikel yang direkomendasikan bergenre sama atau mirip dibandingkan dengan genre dari judul film yang dimasukkan.

Code yang digunakan untuk melihat jumlah genre yang mirip atau serupa adalah sebagai berikut.
```python
value = pd.DataFrame(rekomendasi['genres_Movie'].value_counts().reset_index().values, columns = ['genres_Movie', 'count'])
value.head()
```
output 

Tabel 34: jumlah genre yang mirip atau serupa
|       | **genres_Movie** | **count** |
|:-----:|:----------------:|:---------:|
| **0** |       Drama      |     2     |
| **1** |   Comedy\|Drama  |     1     |
| **2** |      Comedy      |     1     |
| **3** |      Horror      |     1     |

Dari output tersebut dihitung accuracy precision nya adalah

```python
#jumlah prediksi benar untuk genre yang mirip atau serupa
TP = 5

#jumlah prediksi salah untuk genre yang mirip atau serupa
FP = 0 

Precision = TP/(TP+FP)
print("{0:.0%}".format(Precision))
```

output

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.30.PNG?raw=true)

Gambar 7 : _Persentase_  presisi sesuai genre yang mirip ayau serupa dengan genre dari judul yang diinput

Kesimpulan dari output yang dihasilkan bahwa prediksi rekomendasi yang diberikan 100% presisi sesuai genre yang mirip ayau serupa dengan genre dari judul yang diinput.

#### __Collaborative filtering__

Dalam proyek ini, digunakan Root Mean Squared Error (RMSE) sebagai metrik evaluasi untuk mengukur kinerja model menggunakan pendekatan pembelajaran mendalam untuk sistem rekomendasi. Root mean squared error (RMSE) adalah metrik yang mengukur perbedaan antara nilai prediksi model sebagai perkiraan nilai yang diamati. Root mean squared error adalah hasil dari akar kuadrat dari mean squared error. Keakuratan metode estimasi kesalahan pengukuran ditunjukkan dengan adanya nilai RMSE yang kecil. Metode estimasi dengan root mean square error (RMSE) yang kecil dikatakan lebih akurat daripada metode estimasi dengan root mean square error yang besar (RMSE). Metode yang digunakan untuk menghitung root-mean-square error (RMSE) adalah dengan mengurangkan nilai aktual dari nilai prediksi, kemudian kuadratkan dan bagi jumlah dengan jumlah data. Hasil perhitungan tersebut dihitung ulang untuk mencari nilai akar kuadrat. Di bawah ini adalah rumus untuk menghitung RSME.

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.36.jpg?raw=true)

Gambar 8 : Persamaan perhitungan RSME

Berikut merupakan visualisai metrik pada proses training terhadap model Deep Learning sebelumnya:


![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.34.PNG?raw=true)

Gambar 9 : Visualisasi plot _metric_

![This is an image](https://github.com/Antika20/Expert_-Machine-Learning/blob/source-Rekomendasi/2.35.PNG?raw=true)

Gambar 10 : Hasil evaluasi model pada x dan y 

Pada gambar 31 menunjukkan bahwa model mempunyai nilai ___root_mean_squared_error__ sebesar 0.21 dengan nilai loss yang diperoleh sebanyak 0.62 , hasil tersebut sudah cukup bagus karena dengan nilai root_mean_squared_error sebesar 0.21 berarti perbedaan nilai dari prediksi sebuah model sebagai estimasi atas nilai yang diobservasi sebesar 0.21 

#### Kesimpulan 

Dapat dilihat bahwa dengan menggunakan teknik __Content based filtering__ memberikan hasil 100% presisi sesuai genre yang mirip atau serupa dengan genre dari judul yang diinput, jika dievaluasi menggunakan metrics _Precision_

Sedangkan dengan teknik __Collaborative filtering__ memberikan hasil sebesar 0.21 dari perbedaan nilai dari prediksi sebuah model sebagai estimasi atas nilai yang diobservasi

